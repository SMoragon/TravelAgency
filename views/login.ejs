<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="/styles/style.css" />
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"></script>
        <title>Viajes La Ciénaga - Nosotros</title>
        <link rel="icon" type="image/jpg" href="Images/favicon-shrek.jpg">
    </head>

    <body>
        <header>
            <%- include ('pieces/header')%>
        </header>

        <main id="main">

            <div class="container">
                <form id="login-form" method="POST" action="/login">

                    <div class="form-group row">

                        <label for="user-email"
                            class="offset-md-1 col-md-4 offset-sm-2 offset-2 col-10 col-form-label concrete-dest-res-form-field">
                            Correo electrónico: </label>

                        <div
                            class="offset-md-0 col-md-6 offset-sm-1 col-sm-7 offset-1 col-10">

                            <input type="text"
                                class="form-control form-control-sm concrete-dest-res-form-input"
                                name="user-email" id="user-email">

                            <span class="popup-form-error text-danger"
                                id="mail-error">El
                                email introducido no es correcto. El formato
                                debe
                                ser "abcde@fghi.jkl".</span>

                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="user-password"
                            class="offset-md-1 col-md-4 offset-sm-2 offset-2 col-10 col-form-label concrete-dest-res-form-field">
                            Contraseña: </label>
                        <div
                            class="offset-md-0 col-md-6 offset-sm-1 col-sm-7 offset-1 col-10">

                            <input type="password"
                                class="form-control form-control-sm concrete-dest-res-form-input"
                                name="user-password" id="user-password">

                            <span class="popup-form-error text-danger"
                                id="empty-error">Todos
                                los campos deben estar rellenos.</span>

                        </div>
                    </div>

                    <% if (locals.errors) { %>
                    <span class="text-danger"><%= errors %></span>
                    <% } %>

                    <div class="send-buttons">
                        <input id="send-but" type="submit" value="ENVIAR"
                            class="concrete-dest-res-form-but"></input>

                    <button type="button" class="concrete-dest-res-form-but"
                        onclick="closeAndRedirect('/')"> CERRAR</button>
                </div>

                <a href="/register">¿Aún no tienes una cuenta? Regístrate aquí</a>
            </div>
        </main>

        <footer>
            <%- include ('pieces/footer')%>
        </footer>

    </body>
    <script src="/scripts/loginValidation.js"></script>
    <script>
        document.getElementById('login-form').addEventListener('submit', function(event) {
            
      if (!validate()) {
        event.preventDefault(); // Evita que se envíe el formulario si la validación falla
      }
    });
  
      </script>
</html>